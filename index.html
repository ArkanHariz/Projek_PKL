<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CMMS</title>
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <div class="d-flex">
    <!-- Sidebar -->
    <nav class="sidebar d-flex flex-column flex-shrink-0 p-3">
      <div class="logo mb-4">Dover Chemical</div>
      <ul class="nav nav-pills flex-column mb-auto" id="sidebarMenu">
        <li class="nav-item">
          <a href="#" class="nav-link active" data-page="dashboard">
            Dashboard
          </a>
        </li>
        <!-- Equipment Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="equipmentDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Equipment
          </a>
          <ul class="dropdown-menu" aria-labelledby="equipmentDropdown">
            <li><a class="dropdown-item nav-link" href="#" data-page="equipment-create">Create</a></li>
            <li><a class="dropdown-item nav-link" href="#" data-page="equipment-view">View</a></li>
          </ul>
        </li>
        <!-- Locations Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="locationsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Locations
          </a>
          <ul class="dropdown-menu" aria-labelledby="locationsDropdown">
            <li><a class="dropdown-item nav-link" href="#" data-page="locations-create">Create</a></li>
            <li><a class="dropdown-item nav-link" href="#" data-page="locations-view">View</a></li>
          </ul>
        </li>
        <!-- Parts Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="partsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Parts
          </a>
          <ul class="dropdown-menu" aria-labelledby="partsDropdown">
            <li><a class="dropdown-item nav-link" href="#" data-page="parts-create">Create</a></li>
            <li><a class="dropdown-item nav-link" href="#" data-page="parts-view">View</a></li>
          </ul>
        </li>
        <!-- Admin Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Admin
          </a>
          <ul class="dropdown-menu" aria-labelledby="adminDropdown">
            <li><a class="dropdown-item nav-link" href="#" data-page="admin-create-user">Create User</a></li>
          </ul>
        </li>
        <li>
          <a href="#" class="nav-link text-danger" data-page="logout">
            Logout
          </a>
        </li>
      </ul>
    </nav>

    <!-- Content Area -->
    <div class="content-area flex-grow-1">
      <div id="page-content">
        <h2>Dashboard</h2>
        <p>Welcome to the Dashboard!</p>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Content for each page
    const content = {
      dashboard: `<h2>Dashboard</h2><p>Welcome to the Dashboard!</p>`,
      "equipment-create": `<h2>Create Equipment</h2><p>Form for creating equipment.</p>`,
      "equipment-view": `<h2>View Equipment</h2><p>List of all equipment.</p>`,
      "locations-create": `<h2>Create Location</h2><p>Form for creating location.</p>`,
      "locations-view": `<h2>View Locations</h2><p>List of all locations.</p>`,
      "parts-create": `<h2>Create Part</h2><p>Form for creating parts.</p>`,
      "parts-view": `<h2>View Parts</h2><p>List of all parts.</p>`,
      "admin-create-user": `<h2>Create User</h2><p>Form for creating new user.</p>`,
      logout: `<h2>Logout</h2><p>You have been logged out. Thank you!</p>`
    };

    // Handle menu clicks
    document.querySelectorAll('#sidebarMenu [data-page]').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        // Remove active from all main nav-link (exclude dropdown-items for highlight)
        document.querySelectorAll('#sidebarMenu > .nav-item > .nav-link').forEach(l => l.classList.remove('active'));
        // Remove active from dropdown items
        document.querySelectorAll('#sidebarMenu .dropdown-item').forEach(l => l.classList.remove('active'));

        // If clicked is dropdown-item
        if(this.classList.contains('dropdown-item')) {
          this.classList.add('active');
          // Also activate parent dropdown for visual cue
          const parentLink = this.closest('.dropdown').querySelector('.dropdown-toggle');
          parentLink.classList.add('active');
        } else {
          // If main nav-link (Dashboard/Logout)
          this.classList.add('active');
        }

        // Change content
        const page = this.getAttribute('data-page');
        if(content[page]) {
          document.getElementById('page-content').innerHTML = content[page];
        } else {
          document.getElementById('page-content').innerHTML = "<h2>Not Found</h2>";
        }
      });
    });
  </script>
</body>
</html>